(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59790393"],{"43e8":function(e,t,r){},"4eac":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return n}));var i=r("da71"),o=r("9067"),a=function(e){return Object(o["a"])({method:"post",url:i["a"]+"/app/region/create",data:e})},s=function(e){return Object(o["a"])({method:"post",url:i["a"]+"/app/region/pageByCondition",data:e})},l=function(e){return Object(o["a"])({method:"put",url:i["a"]+"/app/region/updateById",data:e})},n=function(e){return Object(o["a"])({method:"DELETE",url:i["a"]+"/app/region/deleteById/"+e,data:e})}},5039:function(e,t,r){},5213:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"roles_content"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("需求管理")]),r("el-breadcrumb-item",[e._v("岗位管理")])],1),r("el-card",[r("el-form",{ref:"queryRoleRef",staticClass:"demo-form-inline",attrs:{inline:!0,size:"mini","label-position":"right",model:e.formOptions}},[r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"岗位名称"}},[r("el-input",{attrs:{placeholder:"岗位名称",clearable:""},model:{value:e.formOptions.postName,callback:function(t){e.$set(e.formOptions,"postName",t)},expression:"formOptions.postName"}})],1)],1),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"项目名"}},[r("el-select",{attrs:{placeholder:"请选择项目名",filterable:"",clearable:""},model:{value:e.formOptions.project,callback:function(t){e.$set(e.formOptions,"project",t)},expression:"formOptions.project"}},e._l(e.projectData,(function(e){return r("el-option",{key:e.index,attrs:{label:e.project,value:e.projectId}})})),1)],1)],1),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"办公地点"}},[r("el-select",{attrs:{placeholder:"请选择办公地点",filterable:"",clearable:""},model:{value:e.formOptions.address,callback:function(t){e.$set(e.formOptions,"address",t)},expression:"formOptions.address"}},e._l(e.regionData,(function(e){return r("el-option",{key:e.index,attrs:{label:e.regionName,value:e.regionId}})})),1)],1)],1),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"岗位技能"}},[r("el-select",{attrs:{placeholder:"请选择岗位技能",filterable:"",clearable:""},model:{value:e.formOptions.skill,callback:function(t){e.$set(e.formOptions,"skill",t)},expression:"formOptions.skill"}},e._l(e.skill,(function(e){return r("el-option",{key:e.index,attrs:{label:e.ski,value:e.ski}})})),1)],1)],1),r("el-col",{class:Object.keys(e.formOptions).length%3===0?"nextline_action_button_content":Object.keys(e.formOptions).length%3===1?"inline2_action_button_content":"inline1_action_button_content",attrs:{span:4}},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.queryPost}},[e._v("查询")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addClick}},[e._v("新增")])],1)],1)],1)],1)],1),r("el-card",[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",border:"",stripe:"",size:"mini",height:"550"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{label:"序号",type:"index",index:e.indexMethod,width:"55",fixed:""}}),r("el-table-column",{attrs:{label:"岗位名称",prop:"postName","min-width":"100",fixed:""}}),r("el-table-column",{attrs:{label:"岗位技能",prop:"skill","min-width":"100",fixed:""}}),r("el-table-column",{attrs:{label:"项目",prop:"project","min-width":"100",fixed:""}}),r("el-table-column",{attrs:{label:"办公地点",prop:"address","min-width":"120",fixed:""}}),r("el-table-column",{attrs:{label:"客户",prop:"customer","min-width":"100",fixed:""}}),r("el-table-column",{attrs:{label:"需求人数/人",prop:"number","min-width":"60",fixed:""}}),r("el-table-column",{attrs:{label:"计划满足日期",prop:"date","min-width":"100",fixed:""}}),r("el-table-column",{attrs:{label:"截止今日岗位缺口/人",prop:"number","min-width":"100",fixed:""}}),r("el-table-column",{attrs:{label:"操作","min-width":"218",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,o=t.$index;return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.lookClick(i)}}},[e._v("查看")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.onEditRole(i)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteMenu(i,o)}}},[e._v(" 删除 ")])]}}])})],1),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.paginationOptions.pageNo,"page-sizes":e.paginationOptions.pageSizes,"page-size":e.paginationOptions.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.paginationOptions.total,size:"mini"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),r("role-edit-dialog",{ref:"roleEditDialogRef",attrs:{toChild:e.list,tableData:e.tableData,projectData:e.projectData}}),r("role-data-dialog",{ref:"roleDataDialogRef",attrs:{toChild:e.list}})],1)},o=[],a=r("5530"),s=(r("159b"),r("1276"),r("ac1f"),r("a434"),r("da71")),l=r("9067"),n=function(e){return Object(l["a"])({method:"post",url:s["a"]+"/app/post/create",data:e})},c=function(e){return Object(l["a"])({method:"post",url:s["a"]+"/app/post/pageByCondition",data:e})},d=function(e){return Object(l["a"])({method:"put",url:s["a"]+"/app/post/updateById",data:e})},u=function(e){return Object(l["a"])({method:"DELETE",url:s["a"]+"/app/post/deleteById/"+e})},p=r("6cdd"),m=r("4eac"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.toChild,visible:e.dialogFormVisible,"close-on-click-modal":!1,"lock-scroll":""},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[r("div",{staticClass:"register_form_main"},[r("el-row",{staticStyle:{height:"100%"}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content-right"},[r("el-form",{ref:"userEditRef",attrs:{model:e.userEditForm,rules:e.userEditFormRules,size:"mini"}},[r("el-form-item",{attrs:{label:"岗位名称 :",prop:"postName"}},[r("el-input",{attrs:{type:"text",placeholder:"请填写岗位名称"},model:{value:e.userEditForm.postName,callback:function(t){e.$set(e.userEditForm,"postName",t)},expression:"userEditForm.postName"}})],1),r("el-form-item",{attrs:{label:"岗位技能 :",prop:"skill"}},[r("el-select",{attrs:{placeholder:"请选择岗位技能",filterable:""},model:{value:e.userEditForm.skill,callback:function(t){e.$set(e.userEditForm,"skill",t)},expression:"userEditForm.skill"}},e._l(e.skill,(function(e){return r("el-option",{key:e.index,attrs:{label:e.ski,value:e.ski}})})),1)],1),r("el-form-item",{attrs:{label:"项目 :",prop:"projectId"}},[r("el-select",{attrs:{placeholder:"请选择接项目",filterable:""},on:{change:e.queryson},model:{value:e.userEditForm.projectId,callback:function(t){e.$set(e.userEditForm,"projectId",t)},expression:"userEditForm.projectId"}},e._l(e.projectData,(function(e){return r("el-option",{key:e.index,attrs:{label:e.project,value:e.projectId}})})),1)],1),r("el-form-item",{attrs:{label:"客户 :",prop:"customer"}},[r("el-input",{attrs:{type:"text",placeholder:"客户"},model:{value:e.userEditForm.customer,callback:function(t){e.$set(e.userEditForm,"customer",t)},expression:"userEditForm.customer"}})],1),r("el-form-item",{attrs:{label:"岗位需求人数 :",prop:"number"}},[r("el-input",{attrs:{type:"text",placeholder:"岗位需求人数"},model:{value:e.userEditForm.number,callback:function(t){e.$set(e.userEditForm,"number",t)},expression:"userEditForm.number"}})],1),r("el-form-item",{attrs:{label:"计划满足日期 :",prop:"date"}},[r("el-col",{attrs:{span:11}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"计划满足日期"},model:{value:e.userEditForm.date,callback:function(t){e.$set(e.userEditForm,"date",t)},expression:"userEditForm.date"}})],1)],1),r("el-form-item",{attrs:{label:"最晚到岗时间",prop:"latestArrivalTime"}},[r("el-col",{attrs:{span:11}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.userEditForm.latestArrivalTime,callback:function(t){e.$set(e.userEditForm,"latestArrivalTime",t)},expression:"userEditForm.latestArrivalTime"}})],1)],1),r("el-form-item",{attrs:{label:"办公地点 :",prop:"address"}},[r("el-cascader",{attrs:{size:"large",options:e.options,clearable:""},model:{value:e.userEditForm.address,callback:function(t){e.$set(e.userEditForm,"address",t)},expression:"userEditForm.address"}})],1),r("el-form-item",{attrs:{label:"详细地址 :",prop:"detailAddress"}},[r("el-input",{attrs:{type:"text",placeholder:"详细地址"},model:{value:e.userEditForm.detailAddress,callback:function(t){e.$set(e.userEditForm,"detailAddress",t)},expression:"userEditForm.detailAddress"}})],1),r("el-form-item",{attrs:{label:"岗位职责 :",prop:"position"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入岗位职责..."},model:{value:e.userEditForm.position,callback:function(t){e.$set(e.userEditForm,"position",t)},expression:"userEditForm.position"}})],1),r("el-form-item",{attrs:{label:"岗位要求 :",prop:"requirements"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入岗位要求..."},model:{value:e.userEditForm.requirements,callback:function(t){e.$set(e.userEditForm,"requirements",t)},expression:"userEditForm.requirements"}})],1)],1)],1)])],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onCertain}},[e._v("保 存")]),r("el-button",{staticClass:"cancel",attrs:{type:"primary",size:"mini"},on:{click:e.dialogClose}},[e._v("取 消")])],1)],1)])],1)},g=[],b=(r("b64b"),r("498a"),r("ef6c")),h={props:{toChild:String,tableData:"",projectData:""},data:function(){return{dialogFormVisible:!1,fileType:{fileType:0},nowIndex:-1,options:b["regionData"],skill:[{ski:"JAVA"},{ski:"WEB"},{ski:"UI"}],userEditForm:{address:"",customer:"",date:"",detailAddress:"",latestArrivalTime:"",number:"",position:"",postId:"",postName:"",projectId:"",requirements:"",skill:""},initFormData:{},userEditFormRules:{postName:[{required:!0,message:"请填写岗位名称",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}],position:[{required:!1,message:"请填写岗位职责",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}],skill:[{required:!1,message:"请选择岗位技能",trigger:["blur","change"]}],requirements:[{required:!1,message:"请填写岗位需求",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}],project:[{required:!1,message:"请填写项目名称",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}],customer:[{required:!1,message:"请填写客户名称",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}],number:[{required:!1,message:"请填写需求人数",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}],date:[{required:!1,message:"请选择完成时间",trigger:["blur","change"]}],latestArrivalTime:[{required:!1,message:"请选择最晚到岗时间",trigger:["blur","change"]}],address:[{required:!1,message:"请填写办公地点",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}],detailAddress:[{required:!1,message:"请填写详细地址",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}]}}},methods:{queryson:function(e){var t=this;this.projectData.forEach((function(r){if(r.projectId==e)Object(a["a"])({},t.formOptions)}))},openDialog:function(e){var t=this;if(console.log(e,"表单的数据"),this.dialogFormVisible=!0,e){var r=JSON.parse(JSON.stringify(e));r.address=this.getCityCode(r.address),this.initFormData=e,this.$nextTick((function(){t.initForm(r)}))}else console.log("我是新增")},initForm:function(e){var t=this;Object.keys(this.userEditForm).forEach((function(r){t.userEditForm[r]=e[r]?e[r]:null}))},closeDialog:function(){this.resetFormData(),this.resetForm("userEditRef")},dialogClose:function(){this.dialogFormVisible=!1,console.log(this.userEditForm,"取消231取消3131")},resetForm:function(e){this.$refs[e].resetFields(),this.initForm(this.userEditForm),this.resetFormData()},resetFormData:function(){this.ifLogin=!0},onCertain:function(){var e=this;if(this.userEditForm.address){for(var t="",r=0;r<this.userEditForm.address.length;r++)t=t+b["CodeToText"][this.userEditForm.address[r]]+" ";this.userEditForm.address=t}this.initFormData.postId?(this.userEditForm.postId=this.initFormData.postId,this.initFormData=this.userEditForm,this.$refs["userEditRef"].validate((function(t){if(console.log(t,"修改的valid"),!t)return!1;d(e.userEditForm,e.userEditForm.postId).then((function(t){console.log(t,"res11111"),t&&t.code&&"00000"===t.code&&(e.$message.success("修改成功！"),e.dialogClose(),e.resetForm(),console.log("修改成功！"),e.$parent.queryPost())}))}))):this.$refs["userEditRef"].validate((function(t){if(console.log("增加了...",e.userEditForm),!t)return!1;n(e.userEditForm).then((function(t){console.log(t,"增加了........."),t&&t.code&&"00000"===t.code&&(e.$message.success("创建成功！"),e.dialogClose(),console.log("创建成功！"),e.$parent.queryPost())}))}))},getCityCode:function(e){var t=[];if(""!=e){var r=e.trim().split(" ");1==r.length?t.push(b["TextToCode"][r[0]].code):2==r.length?(t.push(b["TextToCode"][r[0]].code),t.push(b["TextToCode"][r[0]][r[1]].code)):3==r.length&&(t.push(b["TextToCode"][r[0]].code),t.push(b["TextToCode"][r[0]][r[1]].code),t.push(b["TextToCode"][r[0]][r[1]][r[2]].code))}return t}}},F=h,E=(r("ad39"),r("2877")),v=Object(E["a"])(F,f,g,!1,null,"c28babae",null),k=v.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.toChild,visible:e.dialogFormVisible,"close-on-click-modal":!1,"lock-scroll":""},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[r("div",{staticClass:"register_form_main"},[r("el-row",{staticStyle:{height:"100%"}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content-right"},[r("el-form",{ref:"userEditRef",attrs:{size:"mini"}},[r("el-form-item",{attrs:{label:"岗位名称 :"}},[r("span",[e._v(e._s(e.initFormData.postName))])]),r("el-form-item",{attrs:{label:"岗位技能 :"}},[r("span",[e._v(e._s(e.initFormData.skill))])]),r("el-form-item",{attrs:{label:"项目 :"}},[r("span",[e._v(e._s(e.initFormData.project))])]),r("el-form-item",{attrs:{label:"客户 :"}},[r("span",[e._v(e._s(e.initFormData.customer))])]),r("el-form-item",{attrs:{label:"岗位需求人数 :"}},[r("span",[e._v(e._s(e.initFormData.number))])]),r("el-form-item",{attrs:{label:"计划满足日期 :",prop:"date"}},[r("span",[e._v(e._s(e.initFormData.date))])]),r("el-form-item",{attrs:{label:"办公地点 :",prop:"place"}},[r("span",[e._v(e._s(e.initFormData.address))])]),r("el-form-item",{attrs:{label:"岗位职责 :",prop:"duty"}},[r("span",{staticClass:"duty",attrs:{title:e.initFormData.position}},[e._v(" "+e._s(e.initFormData.position)+" ")])]),r("el-form-item",{attrs:{label:"岗位要求 :",prop:"requirement"}},[r("span",{staticClass:"requirement",attrs:{title:e.initFormData.requirements}},[e._v(e._s(e.initFormData.requirements))])])],1)],1)])],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.dialogClose}},[e._v("取 消")])],1)])],1)},D=[],j={props:{toChild:String},data:function(){return{dialogFormVisible:!1,fileType:{fileType:0},imageUrl:"",nowIndex:-1,userEditForm:{pstname:"",skill:"",project:"",customer:"",number:"",date:"",region:"",place:"",duty:"",requirement:""},initFormData:{}}},methods:{openDialog:function(e){var t=this;console.log(this.userEditForm,"001001"),this.dialogFormVisible=!0,e&&(this.initFormData=e,this.$nextTick((function(){t.initForm(e)})))},initForm:function(e){var t=this;Object.keys(this.userEditForm).forEach((function(r){t.userEditForm[r]=e[r]?e[r]:null}))},closeDialog:function(){this.resetFormData(),this.resetForm("userEditRef")},dialogClose:function(){this.dialogFormVisible=!1,console.log(this.userEditForm,"确定231确定3131")},resetForm:function(e){this.$refs[e].resetFields(),this.initForm(this.userEditForm),this.resetFormData()},resetFormData:function(){this.ifLogin=!0}}},x=j,O=(r("af41"),Object(E["a"])(x,y,D,!1,null,"e22d7b5c",null)),_=O.exports,C={components:{RoleEditDialog:k,RoleDataDialog:_},data:function(){return{skill:[{ski:"JAVA"},{ski:"WEB"},{ski:"UI"}],list:"",formOptions:{address:"",customer:"",date:"",detailAddress:"",latestArrivalTime:"",number:"",position:"",postId:"",postName:"",projectId:"",requirements:"",skill:""},tableData:[],projectData:[],regionData:[],paginationOptions:{pageNo:1,pageSizes:[10,20,30,50,100],pageSize:10,layout:"total, sizes, prev, pager, next, jumper"}}},mounted:function(){this.queryPost()},methods:{queryPost:function(){var e=this;this.$refs["queryRoleRef"].validate((function(t){if(!t)return!1;var r={records:[Object(a["a"])({},e.formOptions)]};r.current=e.paginationOptions.pageNo,r.size=e.paginationOptions.pageSize,c(r).then((function(t){Object(p["d"])(r).then((function(i){Object(m["d"])(r).then((function(r){e.tableData=t.data.records,console.log(e.tableData,"++++++++++岗位数据----"),e.projectData=i.data.records,console.log(e.projectData,"+++++++++项目数据----"),e.regionData=r.data.records,console.log(e.regionData,"++++++++++地域数据----"),e.tableData.forEach((function(t){t.date&&(t.date=t.date.split("T")[0],t.address=t.address.split("/")[0]),e.projectData.forEach((function(e){t.projectId==e.projectId&&(t.project=e.project)}))}))}))})),e.paginationOptions.total=t.data.total}))}))},deleteMenu:function(e,t){var r=this;this.$confirm("此操作将永久删除该岗位, 是否继续?","删除岗位",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"btn-custom-cancel",type:"warning"}).then((function(){r.tableData.splice(t,1),u(e.postId).then((function(e){if(console.log(e,"点击确认，发起后台请求，删除"),"00000"==e.code)return r.$message({type:"success",message:"删除成功!"});r.$message({type:"success",message:"删除失败!"})}))})).catch((function(){r.$message({type:"info",message:"已取消删除"})}))},lookClick:function(e){this.$refs.roleDataDialogRef.openDialog(e),this.list="查看岗位详情",console.log("我要查看",e)},addClick:function(){this.$refs.roleEditDialogRef.openDialog(),this.list="添加岗位",console.log("我要添加")},onEditRole:function(e){this.$refs.roleEditDialogRef.openDialog(e),this.list="编辑岗位信息",console.log("编辑",e,e.postId)},resetForm:function(e){this.$refs[e].resetFields()},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.paginationOptions.pageSize=e,this.queryPost()},handleCurrentChange:function(e){this.paginationOptions.pageNo=e,this.queryPost()},indexMethod:function(e){return(this.paginationOptions.pageNo-1)*this.paginationOptions.pageSize+e+1}}},$=C,q=(r("dde3"),r("a5ec"),Object(E["a"])($,i,o,!1,null,"705d2f76",null));t["default"]=q.exports},"58c6":function(e,t,r){},"6cdd":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return n}));var i=r("da71"),o=r("9067"),a=function(e){return Object(o["a"])({method:"post",url:i["a"]+"/app/project/create",data:e})},s=function(e){return Object(o["a"])({method:"post",url:i["a"]+"/app/project/pageByCondition",data:e})},l=function(e){return Object(o["a"])({method:"put",url:i["a"]+"/app/project/updateById",data:e})},n=function(e){return Object(o["a"])({method:"DELETE",url:i["a"]+"/app/project/deleteById/"+e,data:e})}},"87e6":function(e,t,r){},a5ec:function(e,t,r){"use strict";r("5039")},ad39:function(e,t,r){"use strict";r("43e8")},af41:function(e,t,r){"use strict";r("87e6")},dde3:function(e,t,r){"use strict";r("58c6")}}]);