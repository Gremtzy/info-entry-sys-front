(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b55be6d4"],{1126:function(e,t,r){},"34e1":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return l}));var i=r("da71"),o=r("9067"),a=function(e){return Object(o["a"])({method:"post",url:i["a"]+"/app/customer/create",data:e})},s=function(e){return Object(o["a"])({method:"post",url:i["a"]+"/app/customer/pageByCondition",data:e})},n=function(e){return Object(o["a"])({method:"put",url:i["a"]+"/app/customer/updateById",data:e})},l=function(e){return Object(o["a"])({method:"DELETE",url:i["a"]+"/app/customer/deleteById/"+e})}},"472f":function(e,t,r){},"4fbe":function(e,t,r){},"64b6":function(e,t,r){"use strict";r("1126")},"7f4f":function(e,t,r){"use strict";r("a18c")},"9bc9":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return l}));var i=r("da71"),o=r("9067"),a=function(e){return Object(o["a"])({method:"post",url:i["a"]+"/app/contact-person/create",data:e})},s=function(e){return Object(o["a"])({method:"post",url:i["a"]+"/app/contact-person/pageByCondition",data:e})},n=function(e){return Object(o["a"])({method:"put",url:i["a"]+"/app/contact-person/updateById",data:e})},l=function(e){return Object(o["a"])({method:"DELETE",url:i["a"]+"/app/contact-person/deleteById/"+e})}},a18c:function(e,t,r){},a4ff:function(e,t,r){"use strict";r("472f")},bb3d:function(e,t,r){"use strict";r("4fbe")},cd7b:function(e,t,r){"use strict";r.r(t);var i,o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users_content"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("需求管理")]),r("el-breadcrumb-item",[e._v("接口人管理")])],1),r("el-card",[r("el-form",{ref:"userQueryRef",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formOptions,size:"mini","label-position":"right"}},[r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"接口人"}},[r("el-input",{attrs:{placeholder:"接口人姓名"},model:{value:e.formOptions.interfaceName,callback:function(t){e.$set(e.formOptions,"interfaceName",t)},expression:"formOptions.interfaceName"}})],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"客户"}},[r("el-select",{attrs:{placeholder:"请选择客户名称",clearable:"",filterable:""},model:{value:e.formOptions.customerId,callback:function(t){e.$set(e.formOptions,"customerId",t)},expression:"formOptions.customerId"}},e._l(e.tableCustomer,(function(e){return r("el-option",{key:e.index,attrs:{label:e.customerName,value:e.customerId}})})),1)],1)],1),r("el-col",{class:Object.keys(e.formOptions).length%3===0?"nextline_action_button_content":Object.keys(e.formOptions).length%3===1?"inline2_action_button_content":"inline1_action_button_content",attrs:{span:14}},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.queryUserList}},[e._v("查询")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addClick}},[e._v("新增")])],1)],1)],1)],1)],1),r("el-card",[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",border:"",stripe:"",size:"mini",height:"550"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{label:"序号",type:"index",index:e.indexMethod,width:"55",fixed:""}}),r("el-table-column",{attrs:{prop:"interfaceName",label:"接口人","min-width":"80","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"gender",label:"性别","min-width":"50","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"cellPhone",label:"手机号","min-width":"100","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"100","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"customerName",label:"客户名","min-width":"80","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"210"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,o=t.$index;return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.detailsClick(i)}}},[e._v("查看")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleClick(i)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteMenu(i,o)}}},[e._v(" 删除 ")])]}}])})],1),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.paginationOptions.pageNo,"page-sizes":e.paginationOptions.pageSizes,"page-size":e.paginationOptions.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.paginationOptions.total,size:"mini"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),r("user-edit-dialog",{ref:"userEditDialogRef",attrs:{toChild:e.list,tableData:e.tableData,tableCustomer:e.tableCustomer}}),r("user-dait-dialog",{ref:"userDaitDialogRef",attrs:{toChild:e.list}})],1)},a=[],s=r("5530"),n=(r("159b"),r("a434"),r("9bc9")),l=r("34e1"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.toChild,visible:e.dialogFormVisible,"close-on-click-modal":!1,"lock-scroll":""},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[r("div",{staticClass:"register_form_main"},[r("el-row",{staticStyle:{height:"100%"}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content-right"},[r("el-form",{ref:"userEditRef",attrs:{model:e.userEditForm,rules:e.userEditFormRules,size:"mini"}},[r("el-form-item",{attrs:{label:"接口人名称",prop:"interfaceName"}},[r("el-input",{attrs:{placeholder:"接口人名称"},model:{value:e.userEditForm.interfaceName,callback:function(t){e.$set(e.userEditForm,"interfaceName",t)},expression:"userEditForm.interfaceName"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"gender"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userEditForm.gender,callback:function(t){e.$set(e.userEditForm,"gender",t)},expression:"userEditForm.gender"}},[r("el-option",{attrs:{label:"男",value:"男"}}),r("el-option",{attrs:{label:"女",value:"女"}})],1)],1),r("el-form-item",{attrs:{label:"接口人办公地址",prop:"address"}},[r("el-cascader",{attrs:{size:"large",options:e.options,clearable:""},model:{value:e.userEditForm.address,callback:function(t){e.$set(e.userEditForm,"address",t)},expression:"userEditForm.address"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"cellPhone"}},[r("el-input",{attrs:{type:"tel",placeholder:"手机号"},model:{value:e.userEditForm.cellPhone,callback:function(t){e.$set(e.userEditForm,"cellPhone",t)},expression:"userEditForm.cellPhone"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{type:"email",placeholder:"邮箱"},model:{value:e.userEditForm.email,callback:function(t){e.$set(e.userEditForm,"email",t)},expression:"userEditForm.email"}})],1),r("el-form-item",{attrs:{label:"客户",prop:"customerId"}},[r("el-select",{attrs:{placeholder:"请选择客户",filterable:""},on:{change:e.queryson},model:{value:e.userEditForm.customerId,callback:function(t){e.$set(e.userEditForm,"customerId",t)},expression:"userEditForm.customerId"}},e._l(e.tableCustomer,(function(e){return r("el-option",{key:e.index,attrs:{label:e.customerName,value:e.customerId}})})),1)],1),r("el-form-item",{attrs:{label:"介绍",prop:"introduce"}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.userEditForm.introduce,callback:function(t){e.$set(e.userEditForm,"introduce",t)},expression:"userEditForm.introduce"}})],1)],1)],1)])],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onCertain}},[e._v("保 存")]),r("el-button",{staticClass:"cancel",attrs:{type:"primary",size:"mini"},on:{click:e.dialogClose}},[e._v("取 消")])],1)])],1)},u=[],d=r("ade3"),m=(r("b64b"),r("1276"),r("ac1f"),r("498a"),r("ef6c")),p={props:{toChild:String,tableData:"",tableCustomer:""},data:function(){var e;return{options:m["regionData"],xingbie:"",textarea:"",dialogFormVisible:!1,fileType:{fileType:0},imageUrl:"",nowIndex:-1,userEditForm:{address:"",cellPhone:"",customerId:"",email:"",gender:"",interfaceId:"",interfaceName:"",introduce:""},initFormData:{},userEditFormRules:(e={interfaceName:[{required:!0,message:"请输入用户名",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"},{min:3,max:10,message:"用户名长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}]},Object(d["a"])(e,"interfaceName",[{required:!0,message:"请填写接口人名称",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}]),Object(d["a"])(e,"userNickName",[{required:!0,message:"请填写昵称",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}]),Object(d["a"])(e,"cellPhone",[{required:!0,message:"请填写手机号码",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}]),Object(d["a"])(e,"address",[{required:!1,message:"请填写地域",trigger:["blur","change"]}]),Object(d["a"])(e,"introduce",[{required:!1,message:"请填介绍",trigger:["blur","change"]},{pattern:/^(?!\s+).*(?<!\s)$/,message:"首尾不能为空格",trigger:"blur"}]),e)}},methods:{queryson:function(e){},openDialog:function(e){var t=this;if(console.log(e,"表单的数据"),this.dialogFormVisible=!0,e){var r=JSON.parse(JSON.stringify(e));r.address=this.getCityCode(r.address),this.initFormData=e,this.$nextTick((function(){t.initForm(r)}))}else console.log("我是新增")},initForm:function(e){var t=this;Object.keys(this.userEditForm).forEach((function(r){t.userEditForm[r]=e[r]?e[r]:null}))},closeDialog:function(){this.resetFormData(),this.resetForm("userEditRef")},dialogClose:function(){this.dialogFormVisible=!1,console.log(this.userEditForm,"取消231取消3131")},resetForm:function(e){this.$refs[e].resetFields(),this.initForm(this.userEditForm),this.resetFormData()},resetFormData:function(){this.ifLogin=!0},onCertain:function(){var e=this;if(this.userEditForm.address)for(var t="",r=0;r<this.userEditForm.address.length;r++)t=t+m["CodeToText"][this.userEditForm.address[r]]+" ",this.userEditForm.address=t;this.initFormData.interfaceId?(this.userEditForm.interfaceId=this.initFormData.interfaceId,this.initFormData=this.userEditForm,this.$refs["userEditRef"].validate((function(t){if(console.log(t,"修改的valid"),!t)return!1;Object(n["b"])(e.userEditForm,e.userEditForm.interfaceId).then((function(t){t&&t.code&&"00000"===t.code&&(e.$message.success("修改成功！"),e.$parent.queryUserList(),e.dialogFormVisible=!1)}))}))):(console.log("增加了..."),this.$refs["userEditRef"].validate((function(t){if(!t)return!1;console.log(e.userEditForm,"新增的内容字段------------"),Object(n["c"])(e.userEditForm).then((function(t){console.log(t,"增加了........"),t&&t.code&&"00000"===t.code&&(e.$message.success("创建成功！"),e.dialogClose(),e.$parent.queryUserList())}))})))},getCityCode:function(e){var t=[];if(""!=e){var r=e.trim().split(" ");1==r.length?t.push(m["TextToCode"][r[0]].code):2==r.length?(t.push(m["TextToCode"][r[0]].code),t.push(m["TextToCode"][r[0]][r[1]].code)):3==r.length&&(t.push(m["TextToCode"][r[0]].code),t.push(m["TextToCode"][r[0]][r[1]].code),t.push(m["TextToCode"][r[0]][r[1]][r[2]].code))}return t}}},f=p,g=(r("7f4f"),r("2877")),b=Object(g["a"])(f,c,u,!1,null,"45fcacb3",null),h=b.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{staticClass:"showAll_dialog",attrs:{title:e.toChild,visible:e.dialogFormVisible,"close-on-click-modal":!1,"lock-scroll":""},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[r("div",{staticClass:"register_form_main"},[r("el-row",{staticStyle:{height:"100%"}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content-right"},[r("el-form",{ref:"userEditRef",attrs:{model:e.userEditForm,size:"mini"}},[r("div",{staticClass:"userbox"},[r("ul",{staticClass:"lis"},[r("li",[r("span",[e._v("接口人名:")]),r("span",[e._v(e._s(e.userEditForm.interfaceName))])]),r("li",[r("span",[e._v("性别:")]),r("span",[e._v(e._s(e.userEditForm.gender))])]),r("li",[r("span",[e._v("客户:")]),r("span",[e._v(e._s(e.userEditForm.customerName))])]),r("li",[r("span",[e._v("手机号:")]),r("span",[e._v(e._s(e.userEditForm.cellPhone))])]),r("li",[r("span",[e._v("邮箱:")]),r("span",[e._v(e._s(e.userEditForm.email))])]),r("li",[r("span",[e._v("接口人办公地址:")]),r("span",[e._v(e._s(e.userEditForm.address))])]),r("li",[r("span",[e._v("介绍:")]),r("span",[e._v(e._s(e.userEditForm.introduce))])])]),r("div",[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"项目表",name:"first"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData1,border:""}},[r("el-table-column",{attrs:{prop:"number",label:"编号",width:"50"}}),r("el-table-column",{attrs:{prop:"date",label:"项目名称",width:"120"}}),r("el-table-column",{attrs:{prop:"project",label:"项目状态"}}),r("el-table-column",{attrs:{prop:"person",label:"客户"}}),r("el-table-column",{attrs:{prop:"people",label:"项目人数"}}),r("el-table-column",{attrs:{prop:"gap",label:"项目缺口"}})],1)],1)],1)],1)])])],1)])],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.dialogClose}},[e._v("取 消")])],1)],1)])],1)},F=[],E={props:{toChild:String},data:function(){return{tableData1:[{number:"1",date:"n20160502",name:"赵二",address:"@ewqe",contact:"13315715789",project:"开发中",person:"aaa",derson:"ergfdd",people:"22人",gap:"4人"},{number:"2",date:"n20160504",name:"张三",address:"@qeqwe",contact:"13915715789",project:"开发中",person:"bbb",derson:"ytht",people:"20人",gap:"1人"},{number:"3",date:"n20160501",name:"李四",address:"@rfwr213",contact:"13215715789",project:"暂停中",person:"ccc",derson:"xsad",people:"30人",gap:"4人"},{number:"4",date:"n20160503",name:"王五",address:"@r43rft455",contact:"13115715789",project:"交付中",person:"ddd",derson:"jfgtr",people:"10人",gap:"2人"}],activeName:"first",textarea:"诚迈科技（南京）股份有限公司（300598.SZ）成立于2006年，总部位于南京，专注于智能互联与操作系统技术的研发与创新，致力于成为全球领先的智能科技专家，以科技造福人类",dialogFormVisible:!1,fileType:{fileType:0},imageUrl:"",nowIndex:-1,userEditForm:{customerName:"",address:"",cellPhone:"",customerId:"",email:"",gender:"",interfaceId:"",interfaceName:"",introduce:""},initFormData:{}}},methods:(i={handleClick:function(e,t){console.log(e,t)}},Object(d["a"])(i,"handleClick",(function(e,t){console.log(e,t)})),Object(d["a"])(i,"openDialog",(function(e){var t=this;console.log(this.userEditForm,"001001"),this.dialogFormVisible=!0,e&&(this.initFormData=e,this.$nextTick((function(){t.initForm(e)})))})),Object(d["a"])(i,"initForm",(function(e){var t=this;Object.keys(this.userEditForm).forEach((function(r){t.userEditForm[r]=e[r]?e[r]:null}))})),Object(d["a"])(i,"closeDialog",(function(){this.resetFormData(),this.resetForm("userEditRef")})),Object(d["a"])(i,"dialogClose",(function(){this.dialogFormVisible=!1,console.log(this.userEditForm,"确定231确定3131")})),Object(d["a"])(i,"resetForm",(function(e){this.$refs[e].resetFields(),this.initForm(this.userEditForm),this.resetFormData()})),Object(d["a"])(i,"resetFormData",(function(){this.ifLogin=!0})),i)},C=E,y=(r("64b6"),Object(g["a"])(C,v,F,!1,null,"40c7d324",null)),O=y.exports,_={components:{UserEditDialog:h,UserDaitDialog:O},data:function(){return{list:"",formOptions:{address:"",cellPhone:"",customerId:"",email:"",gender:"",interfaceId:"",interfaceName:"",introduce:""},paginationOptions:{pageNo:1,pageSizes:[10,20,30,50,100],pageSize:10,layout:"total, sizes, prev, pager, next, jumper"},tableData:[],tableCustomer:[],multipleSelection:[]}},mounted:function(){this.queryUserList()},methods:{queryUserList:function(){var e=this;this.$refs["userQueryRef"].validate((function(t){if(!t)return!1;console.log(t,"validvalidvalid");var r={records:[Object(s["a"])({},e.formOptions)]};r.current=e.paginationOptions.pageNo,r.size=e.paginationOptions.pageSize,Object(n["d"])(r).then((function(t){r.current=1,r.size=999,Object(l["d"])(r).then((function(r){e.tableData=t.data.records,e.tableCustomer=r.data.records,e.tableData.forEach((function(t){e.tableCustomer.forEach((function(e){t.customerId==e.customerId&&(t.customerName=e.customerName)}))})),e.paginationOptions.total=t.data.total}))}))}))},deleteMenu:function(e,t){var r=this;this.$confirm("此操作将永久删除该接口人, 是否继续?","删除接口人",{confirmButtonText:"确定",cancelButtonText:"取消",cancelButtonClass:"btn-custom-cancel",type:"warning"}).then((function(){r.tableData.splice(t,1),Object(n["a"])(e.interfaceId).then((function(e){if(console.log(e,"点击确认，发起后台请求，删除该接口人"),"00000"==e.code)return r.$message({type:"success",message:"删除成功!"});r.$message({type:"success",message:"删除失败!"})}))})).catch((function(){r.$message({type:"info",message:"已取消删除"})}))},addClick:function(){this.$refs.userEditDialogRef.openDialog(),this.list="添加接口人",console.log("我要添加")},handleClick:function(e){this.$refs.userEditDialogRef.openDialog(e),this.list="编辑接口人信息",console.log("编辑",e,e.interfaceId)},detailsClick:function(e){this.$refs.userDaitDialogRef.openDialog(e),this.list="查看接口人详情",console.log("详情",e,e.interfaceId)},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.paginationOptions.pageSize=e,this.queryUserList()},handleCurrentChange:function(e){this.paginationOptions.pageNo=e,this.queryUserList()},indexMethod:function(e){return(this.paginationOptions.pageNo-1)*this.paginationOptions.pageSize+e+1}}},k=_,x=(r("a4ff"),r("bb3d"),Object(g["a"])(k,o,a,!1,null,"60822b1b",null));t["default"]=x.exports}}]);